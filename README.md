# Алгоритм процедурной анимации перемещения для четвероногих рептилий
Алгоритм процедурной анимации позволяет реализовать анимацию для широкого спектра четвероногих рептилий - крокодилов, варанов, игуан, ящериц и других существ. Сама реализация строится на основе достоверной биомеханической модели крокодила.
Проект является частью магистерской выпускной квалификационной работы по образовательной программе "Технологии разработки компьютерных игр" Школы разработки видеоигр Университета ИТМО. Работа выполнена в движке Unreal Engine 5 при помощи системы визуального программирования blueprints.



# Запуск и использование
---
Работа является проектом в Unreal Engine. Для запуска достаточно скачать репозиторий и открыть его в Unreal Engine (версия 5.1.1). Тестовая сцена лежит по пути Content/ThirdPerson/Maps/ThirdPersonMap. В этой сцене присутствуют различные предметы окружения и сам террейн.

Для осуществления поворотов использовать клавиши "X" и "Z".
[![UE.png](https://i.postimg.cc/pr3XvbyD/UE.png)](https://postimg.cc/H84C0Nwx)

### Основные компоненты
- BP_Crocodile - Блюпринт четвероногой рептилии. Содержит скелетный меш, капсулу, а также является контейнером для LegController'ов и GaitController'а.
- BP_GaitController - Блюпринт, управляет перемещением конечностей. Содержит часть настраиваемых параметров.
- BP_LegController - Блюпринт, содержит логику перемещения отдельно взятой конечности
- NewControlRig - Управляющий риг

### Основные настраиваемые параметры:
[![image.png](https://i.postimg.cc/mg73s9rg/image.png)](https://postimg.cc/gxkLynRC)
BP_Crocodile: 
- MaxAngleRotation - Максимальный угол поворота рептилии. Регулирует подвижность позвоночника.
- PelvisHeight - Высотка походки
- NeckAngleRotationMax - Подвижность тазобедренного и грудного отдела
- PosRecoverySpeed - Скорость восстановления исходного положения после осуществления поворота
- TimeDelayAllign - Дельта времени между рейкастами. Положение костей позвоночников интерполируется между соседними значениями.
- Velocity - Скорость движения
- ReferenceVelocity - Переменная, связывующая скорость анимации и скорость движения
- StepHeight - Высота шага
- GaitPattern - паттерн перемещения
